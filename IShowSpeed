--// Toggleable SpinBot Script (GUI Controlled)

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local plr = Players.LocalPlayer
local char = plr.Character or plr.CharacterAdded:Wait()
local root = char:WaitForChild("HumanoidRootPart")
local hum = char:FindFirstChildOfClass("Humanoid") or char:WaitForChild("Humanoid")

-- Global table to persist between executions
_G.SpinBot = _G.SpinBot or {}
local SpinBot = _G.SpinBot

-- Set your desired spin speed (radians per second)
local newSpeed = 5

-- Initialize if not already
if not SpinBot.Running then
    SpinBot.Speed = newSpeed
    SpinBot.Enabled = false
    SpinBot.Running = true
    SpinBot.OriginalAutoRotate = hum.AutoRotate
    SpinBot.Angle = 0

    -- Spin loop
    SpinBot.Connection = RunService.RenderStepped:Connect(function(delta)
        if SpinBot.Enabled and root and hum then
            SpinBot.Angle = SpinBot.Angle + SpinBot.Speed * delta
            root.CFrame = CFrame.new(root.Position) * CFrame.Angles(0, SpinBot.Angle, 0)
        end
    end)
else
    -- Already running, just update speed
    SpinBot.Speed = newSpeed
end

-- GUI TOGGLE ONLY
movSection:Toggle({
    Name = "IShowSpeed",
    Flag = "gwab2",
    Default = false,
    Callback = function(v)
        SpinBot.Enabled = v
        hum.AutoRotate = not v
    end
})
